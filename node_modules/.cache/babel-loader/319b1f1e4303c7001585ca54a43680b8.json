{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/colthafer/client_side-main/src/MyMarker.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { Marker, InfoWindow } from \"react-google-maps\";\nimport RedIcon from \"./red-user-icon.png\";\nimport GreenIcon from \"./green-home-icon.png\";\nimport axios from \"axios\";\nimport ModalChat from \"./ChatModal\";\n\nconst MyMarker = props => {\n  _s();\n\n  const [show, setShow] = React.useState(false);\n  const [flag, setFlag] = React.useState(false);\n  const [chat, setChat] = React.useState(false);\n  const [volunteer, setVolunteer] = React.useState(false);\n\n  const toggle_open = () => {\n    setFlag(!flag);\n  };\n\n  const showModal = () => {\n    setShow(!show);\n  };\n\n  const hideModal = () => {\n    setShow(show);\n  };\n\n  const getIcon = () => {\n    if (props.request.category === \"Material\") {\n      return RedIcon;\n    } else {\n      return GreenIcon;\n    }\n  };\n\n  const makeVolunteer = () => {\n    const volunteer = {\n      request_id: props.request.id,\n      user_id: props.user.id\n    };\n    console.log(props.user);\n    console.log(volunteer);\n    axios.post(\"http://localhost:3003/volunteers\", {\n      volunteer\n    }, {\n      params: {\n        _limit: 5\n      }\n    }).then(response => {\n      console.log(response.data);\n\n      if (response.data.status === \"created\") {\n        setChat(true);\n        setVolunteer(response.data.volunteer);\n      }\n    }).catch(error => {\n      console.error(`error:${error}`);\n    });\n  };\n\n  const MarkStyle = {\n    height: \"30px\",\n    width: \"30px\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"marker\",\n    children: [/*#__PURE__*/_jsxDEV(Marker, {\n      style: MarkStyle,\n      position: props.position,\n      onClick: toggle_open,\n      icon: getIcon(),\n      children: flag && /*#__PURE__*/_jsxDEV(InfoWindow, {\n        onCloseClick: toggle_open,\n        user: props.user,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"requestInfo\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Task ID:\", props.request.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Requester ID:\", props.request.user_id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: props.request.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: props.request.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), !chat ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: makeVolunteer,\n            children: \"Volunteer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 24\n          }, this) : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 20\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatBox\",\n      children: chat && /*#__PURE__*/_jsxDEV(ModalChat, {\n        request: props.request,\n        volunteer: volunteer,\n        show: show,\n        handleClose: hideModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 7\n  }, this);\n};\n\n_s(MyMarker, \"tPzLIUxh7ynRlE2NIfoWhT1C2Ek=\");\n\n_c = MyMarker;\nexport default MyMarker;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyMarker\");","map":{"version":3,"sources":["/Users/colthafer/client_side-main/src/MyMarker.js"],"names":["React","Redirect","Marker","InfoWindow","RedIcon","GreenIcon","axios","ModalChat","MyMarker","props","show","setShow","useState","flag","setFlag","chat","setChat","volunteer","setVolunteer","toggle_open","showModal","hideModal","getIcon","request","category","makeVolunteer","request_id","id","user_id","user","console","log","post","params","_limit","then","response","data","status","catch","error","MarkStyle","height","width","position","title","description"],"mappings":"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","sourcesContent":["\r\nimport React from \"react\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { Marker, InfoWindow } from \"react-google-maps\"\r\nimport RedIcon from \"./red-user-icon.png\"\r\nimport GreenIcon from \"./green-home-icon.png\"\r\nimport axios from \"axios\"\r\nimport ModalChat from \"./ChatModal\"\r\n\r\n\r\nconst MyMarker = (props) => {\r\n const [show, setShow] = React.useState(false);\r\n const [flag, setFlag] = React.useState(false);\r\n const [chat, setChat] = React.useState(false);\r\n const [volunteer, setVolunteer] = React.useState(false);\r\n\r\n   const toggle_open = () => {\r\n    setFlag(!flag)\r\n  }\r\n\r\n  const showModal = () => {\r\n    setShow(!show)\r\n  }\r\n\r\n  const hideModal = () => {\r\n    setShow(show)\r\n  }\r\n \r\n  const  getIcon = () => {\r\n    if (props.request.category === \"Material\" ) { return RedIcon }\r\n    else { return GreenIcon }\r\n  }\r\n\r\n  const makeVolunteer = () => {\r\n    const volunteer = {\r\n      request_id: props.request.id,\r\n      user_id: props.user.id\r\n    }\r\n      console.log(props.user)\r\n      console.log(volunteer)\r\n      axios.post(\"http://localhost:3003/volunteers\", {volunteer}, {params: {_limit: 5}})\r\n        .then(response => {\r\n          console.log(response.data)\r\n          if (response.data.status === \"created\") {\r\n            setChat(true)\r\n            setVolunteer(response.data.volunteer)\r\n          } \r\n        })\r\n        .catch(error => {\r\n          console.error(`error:${error}`)\r\n        })\r\n  }\r\n\r\n    const MarkStyle = {\r\n      height: \"30px\",\r\n      width: \"30px\"\r\n    }\r\n\r\n    return (\r\n      <div className=\"marker\">\r\n        <Marker\r\n          style={MarkStyle}\r\n          position={props.position}\r\n          onClick={toggle_open}\r\n          icon={getIcon()}>\r\n            \r\n          {flag && <InfoWindow onCloseClick={toggle_open} user={props.user}>\r\n\r\n            <div className=\"requestInfo\">\r\n              <h4>Task ID:{props.request.id}</h4>\r\n              <h4>Requester ID:{props.request.user_id}</h4>\r\n              <h1>{props.request.title}</h1>\r\n              <h3>{props.request.description}</h3>\r\n              {!chat ? <button onClick={makeVolunteer}>Volunteer</button>: ''}\r\n             </div>\r\n          </InfoWindow>}\r\n        </Marker>\r\n        <div className=\"chatBox\">\r\n         \r\n        {chat && <ModalChat request={props.request} volunteer={volunteer} show={show} handleClose={hideModal}/>}\r\n      </div>\r\n      </div>\r\n    )\r\n    }\r\n    \r\n\r\n\r\nexport default MyMarker"]},"metadata":{},"sourceType":"module"}