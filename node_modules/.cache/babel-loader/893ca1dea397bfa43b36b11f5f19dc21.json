{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/colthafer/client_side-main/src/RequestLoader.jsx\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { RequestStateProvider } from \"./RequestStateProvider\";\nimport axios from \"axios\";\nconst LOADING_STATE = {\n  LOADING: \"loading\",\n  LOADED: \"loaded\",\n  ERROR: \"error\"\n};\n\nconst RequestLoader = props => {\n  _s();\n\n  const [loadingState, setLoadingState] = React.useState(LOADING_STATE.LOADING);\n  const [requests, setRequests] = React.useState();\n  React.useEffect(() => {\n    axios.get(\"http://localhost:3003/requests\").then(response => {\n      let currentRequests = response && response.data && response.data.requests; //.filter(req => !req.fulfilled);\n\n      setRequests(currentRequests);\n      setLoadingState(LOADING_STATE.LOADED);\n    }).catch(error => {\n      console.error(`Error: ${error.message}`);\n      setLoadingState(LOADING_STATE.ERROR);\n    });\n  }, []);\n\n  switch (loadingState) {\n    case LOADING_STATE.LOADING:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 8\n      }, this);\n\n    case LOADING_STATE.LOADED:\n      return /*#__PURE__*/_jsxDEV(RequestProvider, {\n        children: props.children,\n        requests: requests,\n        setRequests: setRequests\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 1\n      }, this);\n\n    case LOADING_STATE.ERROR:\n      /*#__PURE__*/\n      _jsxDEV(\"div\", {\n        children: \"An Error occured, please refresh the page. If the error continues please contact the owner.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 1\n      }, this);\n\n      return null;\n\n    default:\n      return null;\n  }\n};\n\n_s(RequestLoader, \"h62jLCYMTJRWgQXOU8SbGvAWQjw=\");\n\n_c = RequestLoader;\nexport default RequestLoader;\n\nvar _c;\n\n$RefreshReg$(_c, \"RequestLoader\");","map":{"version":3,"sources":["/Users/colthafer/client_side-main/src/RequestLoader.jsx"],"names":["React","RequestStateProvider","axios","LOADING_STATE","LOADING","LOADED","ERROR","RequestLoader","props","loadingState","setLoadingState","useState","requests","setRequests","useEffect","get","then","response","currentRequests","data","catch","error","console","message","children"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAAQC,oBAAR,QAAmC,wBAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,aAAa,GAAG;AACtBC,EAAAA,OAAO,EAAE,SADa;AAEtBC,EAAAA,MAAM,EAAE,QAFc;AAGtBC,EAAAA,KAAK,EAAE;AAHe,CAAtB;;AAMA,MAAMC,aAAa,GAAIC,KAAD,IAAW;AAAA;;AACjC,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCV,KAAK,CAACW,QAAN,CAAeR,aAAa,CAACC,OAA7B,CAAxC;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0Bb,KAAK,CAACW,QAAN,EAAhC;AAEAX,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AACtBZ,IAAAA,KAAK,CAACa,GAAN,CAAU,gCAAV,EACCC,IADD,CACMC,QAAQ,IAAI;AAClB,UAAIC,eAAe,GAAGD,QAAQ,IAAIA,QAAQ,CAACE,IAArB,IAA6BF,QAAQ,CAACE,IAAT,CAAcP,QAAjE,CADkB,CACwD;;AAC1EC,MAAAA,WAAW,CAACK,eAAD,CAAX;AACAR,MAAAA,eAAe,CAACP,aAAa,CAACE,MAAf,CAAf;AACC,KALD,EAMCe,KAND,CAMOC,KAAK,IAAI;AAChBC,MAAAA,OAAO,CAACD,KAAR,CAAe,UAASA,KAAK,CAACE,OAAQ,EAAtC;AACAb,MAAAA,eAAe,CAACP,aAAa,CAACG,KAAf,CAAf;AACC,KATD;AAUC,GAXD,EAWG,EAXH;;AAaA,UAAQG,YAAR;AACA,SAAKN,aAAa,CAACC,OAAnB;AACA,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACA,SAAKD,aAAa,CAACE,MAAnB;AACA,0BACA,QAAC,eAAD;AACA,QAAA,QAAQ,EAAEG,KAAK,CAACgB,QADhB;AAEA,QAAA,QAAQ,EAAEZ,QAFV;AAGA,QAAA,WAAW,EAAEC;AAHb;AAAA;AAAA;AAAA;AAAA,cADA;;AAOA,SAAKV,aAAa,CAACG,KAAnB;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA,aAAO,IAAP;;AACA;AACA,aAAO,IAAP;AAfA;AAiBC,CAlCD;;GAAMC,a;;KAAAA,a;AAoCN,eAAeA,aAAf","sourcesContent":["import * as React from \"react\";\nimport {RequestStateProvider} from \"./RequestStateProvider\";\nimport axios from \"axios\";\n\nconst LOADING_STATE = {\nLOADING: \"loading\",\nLOADED: \"loaded\",\nERROR: \"error\"\n};\n\nconst RequestLoader = (props) => {\nconst [loadingState, setLoadingState] = React.useState(LOADING_STATE.LOADING);\nconst [requests, setRequests] = React.useState();\n\nReact.useEffect(() => {\naxios.get(\"http://localhost:3003/requests\")\n.then(response => {\nlet currentRequests = response && response.data && response.data.requests;//.filter(req => !req.fulfilled);\nsetRequests(currentRequests);\nsetLoadingState(LOADING_STATE.LOADED);\n})\n.catch(error => {\nconsole.error(`Error: ${error.message}`)\nsetLoadingState(LOADING_STATE.ERROR);\n})\n}, []);\n\nswitch (loadingState) {\ncase LOADING_STATE.LOADING:\nreturn <div>Loading...</div>;\ncase LOADING_STATE.LOADED:\nreturn (\n<RequestProvider\nchildren={props.children}\nrequests={requests}\nsetRequests={setRequests}\n/>\n);\ncase LOADING_STATE.ERROR:\n<div>An Error occured, please refresh the page. If the error continues please contact the owner.</div>\nreturn null;\ndefault:\nreturn null;\n}\n};\n\nexport default RequestLoader;"]},"metadata":{},"sourceType":"module"}