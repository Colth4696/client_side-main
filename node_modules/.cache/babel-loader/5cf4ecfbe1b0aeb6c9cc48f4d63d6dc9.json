{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/colthafer/client_side-main/src/RequestLoader.jsx\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { RequestStateProvider } from \"./RequestStateProvider\";\nimport axios from \"axios\";\nimport requestReducer from \"./RequestReducer\";\nconst LOADING_STATE = {\n  LOADING: \"loading\",\n  LOADED: \"loaded\",\n  ERROR: \"error\"\n};\n\nconst RequestLoader = props => {\n  _s();\n\n  const [loadingState, setLoadingState] = React.useState(LOADING_STATE.LOADING);\n  const [initialState, setInitialState] = React.useState({\n    requests: []\n  });\n  React.useEffect(() => {\n    axios.get(\"http://localhost:3003/requests\").then(response => {\n      let currentRequests = response && response.data && response.data.requests; //.filter(req => !req.fulfilled);\n\n      setInitialState({\n        requests: currentRequests\n      });\n      setLoadingState(LOADING_STATE.LOADED);\n    }).catch(error => {\n      console.error(`Error: ${error.message}`);\n      setLoadingState(LOADING_STATE.ERROR);\n    });\n  }, []);\n\n  switch (loadingState) {\n    case LOADING_STATE.LOADING:\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 16\n      }, this);\n\n    case LOADING_STATE.LOADED:\n      return /*#__PURE__*/_jsxDEV(RequestStateProvider, {\n        children: props.children,\n        reducer: requestReducer,\n        initialState: initialState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this);\n\n    case LOADING_STATE.ERROR:\n      /*#__PURE__*/\n      _jsxDEV(\"div\", {\n        children: \"An Error occured, please refresh the page. If the error continues please contact the owner.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }, this);\n\n      return null;\n\n    default:\n      return null;\n  }\n};\n\n_s(RequestLoader, \"+Ri2lMVaNNU/PCynH/Rhmv7W6MQ=\");\n\n_c = RequestLoader;\nexport default RequestLoader;\n\nvar _c;\n\n$RefreshReg$(_c, \"RequestLoader\");","map":{"version":3,"sources":["/Users/colthafer/client_side-main/src/RequestLoader.jsx"],"names":["React","RequestStateProvider","axios","requestReducer","LOADING_STATE","LOADING","LOADED","ERROR","RequestLoader","props","loadingState","setLoadingState","useState","initialState","setInitialState","requests","useEffect","get","then","response","currentRequests","data","catch","error","console","message","children"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,oBAAT,QAAqC,wBAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,MAAMC,aAAa,GAAG;AAClBC,EAAAA,OAAO,EAAE,SADS;AAElBC,EAAAA,MAAM,EAAE,QAFU;AAGlBC,EAAAA,KAAK,EAAE;AAHW,CAAtB;;AAMA,MAAMC,aAAa,GAAIC,KAAD,IAAW;AAAA;;AAC7B,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCX,KAAK,CAACY,QAAN,CAAeR,aAAa,CAACC,OAA7B,CAAxC;AACA,QAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkCd,KAAK,CAACY,QAAN,CAAe;AAACG,IAAAA,QAAQ,EAAE;AAAX,GAAf,CAAxC;AAEAf,EAAAA,KAAK,CAACgB,SAAN,CAAgB,MAAM;AAClBd,IAAAA,KAAK,CAACe,GAAN,CAAU,gCAAV,EACCC,IADD,CACMC,QAAQ,IAAI;AACd,UAAIC,eAAe,GAAGD,QAAQ,IAAIA,QAAQ,CAACE,IAArB,IAA6BF,QAAQ,CAACE,IAAT,CAAcN,QAAjE,CADc,CAC4D;;AAC1ED,MAAAA,eAAe,CAAC;AAAEC,QAAAA,QAAQ,EAAEK;AAAZ,OAAD,CAAf;AACAT,MAAAA,eAAe,CAACP,aAAa,CAACE,MAAf,CAAf;AACH,KALD,EAMCgB,KAND,CAMOC,KAAK,IAAI;AACZC,MAAAA,OAAO,CAACD,KAAR,CAAe,UAASA,KAAK,CAACE,OAAQ,EAAtC;AACAd,MAAAA,eAAe,CAACP,aAAa,CAACG,KAAf,CAAf;AACH,KATD;AAUH,GAXD,EAWG,EAXH;;AAaF,UAAQG,YAAR;AACE,SAAKN,aAAa,CAACC,OAAnB;AACI,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;;AACJ,SAAKD,aAAa,CAACE,MAAnB;AACI,0BACI,QAAC,oBAAD;AACI,QAAA,QAAQ,EAAEG,KAAK,CAACiB,QADpB;AAEI,QAAA,OAAO,EAAEvB,cAFb;AAGI,QAAA,YAAY,EAAEU;AAHlB;AAAA;AAAA;AAAA;AAAA,cADJ;;AAOJ,SAAKT,aAAa,CAACG,KAAnB;AACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA,aAAO,IAAP;;AACF;AACE,aAAO,IAAP;AAfJ;AAiBD,CAlCD;;GAAMC,a;;KAAAA,a;AAoCN,eAAeA,aAAf","sourcesContent":["import * as React from \"react\";\nimport { RequestStateProvider } from \"./RequestStateProvider\";\nimport axios from \"axios\";\nimport requestReducer from \"./RequestReducer\";\n\nconst LOADING_STATE = {\n    LOADING: \"loading\",\n    LOADED: \"loaded\",\n    ERROR: \"error\"\n};\n\nconst RequestLoader = (props) => {\n    const [loadingState, setLoadingState] = React.useState(LOADING_STATE.LOADING);\n    const [initialState, setInitialState] = React.useState({requests: []});\n\n    React.useEffect(() => {\n        axios.get(\"http://localhost:3003/requests\")\n        .then(response => {\n            let currentRequests = response && response.data && response.data.requests;//.filter(req => !req.fulfilled);\n            setInitialState({ requests: currentRequests });\n            setLoadingState(LOADING_STATE.LOADED);\n        })\n        .catch(error => {\n            console.error(`Error: ${error.message}`)\n            setLoadingState(LOADING_STATE.ERROR);\n        })\n    }, []);\n\n  switch (loadingState) {\n    case LOADING_STATE.LOADING:\n        return <div>Loading...</div>;\n    case LOADING_STATE.LOADED:\n        return (\n            <RequestStateProvider\n                children={props.children}\n                reducer={requestReducer} \n                initialState={initialState}\n            />\n        );\n    case LOADING_STATE.ERROR:\n      <div>An Error occured, please refresh the page. If the error continues please contact the owner.</div>\n      return null;\n    default:\n      return null;\n  }\n};\n\nexport default RequestLoader;"]},"metadata":{},"sourceType":"module"}